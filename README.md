# Combining a Hierarchical Factory Pattern with Multirole Authentication and Authorization inside a Smart Contract Application: A Water Management Use Case

The use of blockchain technology and smart contracts is progressively spreading to real-world applications, especially to those that deal with critical services, such as water management systems. In fact, such applications can exploit the immutability, enforceability, and trustworthiness of such technology while promoting a more reliable and untampered way of collecting and storing data. At the same time, the development of decentralized applications poses challenges with respect to scalability, efficiency, management, and security. To address these problems, some design patterns, such as the factory pattern, have been proposed in the literature, to deal with modularity and scalability; at the same time, these proposed solutions apply some common concepts of role-based access control (RBAC), by adapting them to the smart contract context. This paper takes a step forward in this direction by extending the definition of a hierarchical factory pattern, enhanced with multirole authentication and authorization capabilities, and applying it to the water management system scenario. It provides an extensive description of both advantages and disadvantages of this solution, discussing why the ability to instantiate a hierarchical family of contracts is essential in some application domains, and how a finer management of dynamic roles and permissions can be achieved in this kind of design. This paper also performs an extensive analysis of the performance and scalability capabilities of the proposed solution, and discusses some security aspects by considering its ability to overcome certain security attacks.
